{
    // Visit https://firebase.google.com/docs/database/security to learn more about security rules. */
    "rules": {
      "chatapp": {
        "messages": {
          ".read": true,
          ".write": "auth !== null",
          "$messageId": {
            // The name has to be the real display name.
            ".validate": "newData.child('name').val() === auth.token.name",
          "text": {
            // The text has to be less than 450 char.
            ".validate": "newData.isString() && newData.val().length < 300"
          }
        }  
        }
      },
      "fcmTokens": {
      // User can write their tokens to the database but not read the list of tokens.
      ".read": false,
      ".write": true
      }  
    }
  }